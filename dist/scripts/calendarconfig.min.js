"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$(function(){loadEvents(),showTodaysDate(),initializeCalendar(),getCalendars(),initializeRightCalendar(),initializeLeftCalendar(),disableEnter()});var initializeCalendar=function(){var e;$(".calendar").fullCalendar((_defineProperty(e={editable:!0,eventLimit:!0,events:events(),defaultTimedEventDuration:"00:30:00",forceEventDuration:!0,eventBackgroundColor:"#337ab7"},"editable",!1),_defineProperty(e,"height",screen.height-160),_defineProperty(e,"timezone","America/Chicago"),e))},getCalendars=function(){$cal=$(".calendar"),$cal1=$("#calendar1"),$cal2=$("#calendar2")},initializeRightCalendar=function(){$cal2.fullCalendar("changeView","agendaDay"),$cal2.fullCalendar("option",{slotEventOverlap:!1,allDaySlot:!1,header:{right:"prev,next today"},selectable:!0,selectHelper:!0,select:function(e,t){newEvent(e)},eventClick:function(e,t,n){editEvent(e)}})},initializeLeftCalendar=function(){$cal1.fullCalendar("option",{header:{left:"prev,next today",center:"title",right:"month,agendaWeek"},navLinks:!1,dayClick:function(e){cal2GoTo(e)},eventClick:function(e){cal2GoTo(e.start)}})},cal2GoTo=function(e){$cal2.fullCalendar("gotoDate",e)},loadEvents=function(){$.getScript("js/events.js",function(){})},newEvent=function(n){$("input#title").val(""),$("#newEvent").modal("show"),$("#submit").unbind(),$("#submit").on("click",function(){var e=$("input#title").val();if(e){var t={title:e,start:n};$cal.fullCalendar("renderEvent",t,!0),$("#newEvent").modal("hide")}else alert("Title can't be blank. Please try again.")})},editEvent=function(t){$("input#editTitle").val(t.title),$("#editEvent").modal("show"),$("#update").unbind(),$("#update").on("click",function(){var e=$("input#editTitle").val();$("#editEvent").modal("hide"),e?(t.title=e,$cal.fullCalendar("updateEvent",t)):alert("Title can't be blank. Please try again.")}),$("#delete").on("click",function(){$("#delete").unbind(),t._id.includes("_fc")?($cal1.fullCalendar("removeEvents",[getCal1Id(t._id)]),$cal2.fullCalendar("removeEvents",[t._id])):$cal.fullCalendar("removeEvents",[t._id]),$("#editEvent").modal("hide")})},showTodaysDate=function(){n=new Date,y=n.getFullYear(),m=n.getMonth()+1,d=n.getDate(),$("#todaysDate").html("Today is "+m+"/"+d+"/"+y)},getCal1Id=function(e){return"_fc"+(e.replace("_fc","")-1)},disableEnter=function(){$("body").bind("keypress",function(e){if(13==e.keyCode)return e.preventDefault(),!1})};